var Lt=Object.defineProperty,Ut=Object.defineProperties;var At=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var _e=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&_e(e,n,t[n]);if(te)for(var n of te(t))Me.call(t,n)&&_e(e,n,t[n]);return e},j=(e,t)=>Ut(e,At(t));var Fe=(e,t)=>{var n={};for(var a in e)Ke.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&te)for(var a of te(e))t.indexOf(a)<0&&Me.call(e,a)&&(n[a]=e[a]);return n};var $=(e,t,n)=>_e(e,typeof t!="symbol"?t+"":t,n);var w=(e,t,n)=>new Promise((a,r)=>{var i=c=>{try{o(n.next(c))}catch(l){r(l)}},s=c=>{try{o(n.throw(c))}catch(l){r(l)}},o=c=>c.done?a(c.value):Promise.resolve(c.value).then(i,s);o((n=n.apply(e,t)).next())});import{o as Ge,t as ae}from"./DePUFE4i.js";import{w as Le}from"./Cq2FQNBD.js";class Ue{constructor(t,n){this.status=t,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:`Error: ${t}`}}toString(){return JSON.stringify(this.body)}}class Ae{constructor(t,n){this.status=t,this.location=n}}class Te extends Error{constructor(t,n,a){super(a),this.status=t,this.text=n}}new URL("sveltekit-internal://");function Tt(e,t){return e==="/"||t==="ignore"?e:t==="never"?e.endsWith("/")?e.slice(0,-1):e:t==="always"&&!e.endsWith("/")?e+"/":e}function $t(e){return e.split("%25").map(decodeURI).join("%25")}function It(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function we({href:e}){return e.split("#")[0]}function Ot(...e){let t=5381;for(const n of e)if(typeof n=="string"){let a=n.length;for(;a;)t=t*33^n.charCodeAt(--a)}else if(ArrayBuffer.isView(n)){const a=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);let r=a.length;for(;r;)t=t*33^a[--r]}else throw new TypeError("value must be a string or TypedArray");return(t>>>0).toString(36)}new TextEncoder;new TextDecoder;function Pt(e){const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}const Ct=window.fetch;window.fetch=(e,t)=>((e instanceof Request?e.method:(t==null?void 0:t.method)||"GET")!=="GET"&&W.delete($e(e)),Ct(e,t));const W=new Map;function jt(e,t){const n=$e(e,t),a=document.querySelector(n);if(a!=null&&a.textContent){a.remove();let r=JSON.parse(a.textContent),{body:i}=r,s=Fe(r,["body"]);const o=a.getAttribute("data-ttl");return o&&W.set(n,{body:i,init:s,ttl:1e3*Number(o)}),a.getAttribute("data-b64")!==null&&(i=Pt(i)),Promise.resolve(new Response(i,s))}return window.fetch(e,t)}function Nt(e,t,n){if(W.size>0){const a=$e(e,n),r=W.get(a);if(r){if(performance.now()<r.ttl&&["default","force-cache","only-if-cached",void 0].includes(n==null?void 0:n.cache))return new Response(r.body,r.init);W.delete(a)}}return window.fetch(t,n)}function $e(e,t){let a=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(t!=null&&t.headers||t!=null&&t.body){const r=[];t.headers&&r.push([...new Headers(t.headers)].join(",")),t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&r.push(t.body),a+=`[data-hash="${Ot(...r)}"]`}return a}const Dt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Vt(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${Bt(e).map(a=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(r)return t.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/([^]*))?";const i=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(i)return t.push({name:i[1],matcher:i[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const s=a.split(/\[(.+?)\](?!\])/);return"/"+s.map((c,l)=>{if(l%2){if(c.startsWith("x+"))return ve(String.fromCharCode(parseInt(c.slice(2),16)));if(c.startsWith("u+"))return ve(String.fromCharCode(...c.slice(2).split("-").map(h=>parseInt(h,16))));const d=Dt.exec(c),[,f,_,g,u]=d;return t.push({name:g,matcher:u,optional:!!f,rest:!!_,chained:_?l===1&&s[0]==="":!1}),_?"([^]*?)":f?"([^/]*)?":"([^/]+?)"}return ve(c)}).join("")}).join("")}/?$`),params:t}}function qt(e){return e!==""&&!/^\([^)]+\)$/.test(e)}function Bt(e){return e.slice(1).split("/").filter(qt)}function Kt(e,t,n){const a={},r=e.slice(1),i=r.filter(o=>o!==void 0);let s=0;for(let o=0;o<t.length;o+=1){const c=t[o];let l=r[o-s];if(c.chained&&c.rest&&s&&(l=r.slice(o-s,o+1).filter(d=>d).join("/"),s=0),l===void 0)if(c.rest)l="";else continue;if(!c.matcher||n[c.matcher](l)){a[c.name]=l;const d=t[o+1],f=r[o+1];d&&!d.rest&&d.optional&&f&&c.chained&&(s=0),!d&&!f&&Object.keys(a).length===i.length&&(s=0);continue}if(c.optional&&c.chained){s++;continue}return}if(!s)return a}function ve(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Mt({nodes:e,server_loads:t,dictionary:n,matchers:a}){const r=new Set(t);return Object.entries(n).map(([o,[c,l,d]])=>{const{pattern:f,params:_}=Vt(o),g={id:o,exec:u=>{const h=f.exec(u);if(h)return Kt(h,_,a)},errors:[1,...d||[]].map(u=>e[u]),layouts:[0,...l||[]].map(s),leaf:i(c)};return g.errors.length=g.layouts.length=Math.max(g.errors.length,g.layouts.length),g});function i(o){const c=o<0;return c&&(o=~o),[c,e[o]]}function s(o){return o===void 0?o:[r.has(o),e[o]]}}function st(e,t=JSON.parse){try{return t(sessionStorage[e])}catch(n){}}function We(e,t,n=JSON.stringify){const a=n(t);try{sessionStorage[e]=a}catch(r){}}var Ze,et;const T=(et=(Ze=globalThis.__sveltekit_135dv68)==null?void 0:Ze.base)!=null?et:"";var tt,nt,at;const Ft=(at=(nt=(tt=globalThis.__sveltekit_135dv68)==null?void 0:tt.assets)!=null?nt:T)!=null?at:"",Gt="1770716958734",it="sveltekit:snapshot",ct="sveltekit:scroll",lt="sveltekit:states",Wt="sveltekit:pageurl",M="sveltekit:history",z="sveltekit:navigation",D={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},de=location.origin;function Ie(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){const n=document.getElementsByTagName("base");t=n.length?n[0].href:document.URL}return new URL(e,t)}function he(){return{x:pageXOffset,y:pageYOffset}}function K(e,t){return e.getAttribute(`data-sveltekit-${t}`)}const Ye=j(I({},D),{"":D.hover});function ft(e){var n;let t=(n=e.assignedSlot)!=null?n:e.parentNode;return(t==null?void 0:t.nodeType)===11&&(t=t.host),t}function ut(e,t){for(;e&&e!==t;){if(e.nodeName.toUpperCase()==="A"&&e.hasAttribute("href"))return e;e=ft(e)}}function ke(e,t,n){let a;try{if(a=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),n&&a.hash.match(/^#[^/]/)){const o=location.hash.split("#")[1]||"/";a.hash=`#${o}${a.hash}`}}catch(o){}const r=e instanceof SVGAElement?e.target.baseVal:e.target,i=!a||!!r||pe(a,t,n)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),s=(a==null?void 0:a.origin)===de&&e.hasAttribute("download");return{url:a,external:i,target:r,download:s}}function re(e){let t=null,n=null,a=null,r=null,i=null,s=null,o=e;for(;o&&o!==document.documentElement;)a===null&&(a=K(o,"preload-code")),r===null&&(r=K(o,"preload-data")),t===null&&(t=K(o,"keepfocus")),n===null&&(n=K(o,"noscroll")),i===null&&(i=K(o,"reload")),s===null&&(s=K(o,"replacestate")),o=ft(o);function c(l){switch(l){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:Ye[a!=null?a:"off"],preload_data:Ye[r!=null?r:"off"],keepfocus:c(t),noscroll:c(n),reload:c(i),replace_state:c(s)}}function ze(e){const t=Le(e);let n=!0;function a(){n=!0,t.update(s=>s)}function r(s){n=!1,t.set(s)}function i(s){let o;return t.subscribe(c=>{(o===void 0||n&&c!==o)&&s(o=c)})}return{notify:a,set:r,subscribe:i}}const dt={v:()=>{}};function Yt(){const{set:e,subscribe:t}=Le(!1);let n;function a(){return w(this,null,function*(){clearTimeout(n);try{const r=yield fetch(`${Ft}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!r.ok)return!1;const s=(yield r.json()).version!==Gt;return s&&(e(!0),dt.v(),clearTimeout(n)),s}catch(r){return!1}})}return{subscribe:t,check:a}}function pe(e,t,n){return e.origin!==de||!e.pathname.startsWith(t)?!0:n?e.pathname!==location.pathname:!1}function kn(e){}const ht=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...ht];const zt=new Set([...ht]);[...zt];function Ht(e){return e.filter(t=>t!=null)}function Oe(e){return e instanceof Ue||e instanceof Te?e.status:500}function Jt(e){return e instanceof Te?e.text:"Internal Error"}let x,H,ye;const Xt=Ge.toString().includes("$$")||/function \w+\(\) \{\}/.test(Ge.toString());Xt?(x={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},H={current:null},ye={current:!1}):(x=new class{constructor(){$(this,"data",$state.raw({}));$(this,"form",$state.raw(null));$(this,"error",$state.raw(null));$(this,"params",$state.raw({}));$(this,"route",$state.raw({id:null}));$(this,"state",$state.raw({}));$(this,"status",$state.raw(-1));$(this,"url",$state.raw(new URL("https://example.com")))}},H=new class{constructor(){$(this,"current",$state.raw(null))}},ye=new class{constructor(){$(this,"current",$state.raw(!1))}},dt.v=()=>ye.current=!0);function Qt(e){Object.assign(x,e)}const Zt=new Set(["icon","shortcut icon","apple-touch-icon"]);var rt;const q=(rt=st(ct))!=null?rt:{};var ot;const J=(ot=st(it))!=null?ot:{},N={url:ze({}),page:ze({}),navigating:Le(null),updated:Yt()};function Pe(e){q[e]=he()}function en(e,t){let n=e+1;for(;q[n];)delete q[n],n+=1;for(n=t+1;J[n];)delete J[n],n+=1}function X(e,t=!1){return t?location.replace(e.href):location.href=e.href,new Promise(()=>{})}function pt(){return w(this,null,function*(){if("serviceWorker"in navigator){const e=yield navigator.serviceWorker.getRegistration(T||"/");e&&(yield e.update())}})}function He(){}let Ce,Ee,oe,P,Se,E;const se=[],ie=[];let b=null;function Re(){var e;(e=b==null?void 0:b.fork)==null||e.then(t=>t==null?void 0:t.discard()),b=null}const ne=new Map,gt=new Set,tn=new Set,Y=new Set;let v={branch:[],error:null,url:null},mt=!1,ce=!1,Je=!0,Q=!1,G=!1,_t=!1,je=!1,wt,R,A,V;const le=new Set,Xe=new Map;function xn(e,t,n){return w(this,null,function*(){var i,s,o,c,l;(i=globalThis.__sveltekit_135dv68)!=null&&i.data&&globalThis.__sveltekit_135dv68.data,document.URL!==location.href&&(location.href=location.href),E=e,yield(o=(s=e.hooks).init)==null?void 0:o.call(s),Ce=Mt(e),P=document.documentElement,Se=t,Ee=e.nodes[0],oe=e.nodes[1],Ee(),oe(),R=(c=history.state)==null?void 0:c[M],A=(l=history.state)==null?void 0:l[z],R||(R=A=Date.now(),history.replaceState(j(I({},history.state),{[M]:R,[z]:A}),""));const a=q[R];function r(){a&&(history.scrollRestoration="manual",scrollTo(a.x,a.y))}n?(r(),yield gn(Se,n)):(yield F({type:"enter",url:Ie(E.hash?wn(new URL(location.href)):location.href),replace_state:!0}),r()),pn()})}function nn(){se.length=0,je=!1}function vt(e){ie.some(t=>t==null?void 0:t.snapshot)&&(J[e]=ie.map(t=>{var n;return(n=t==null?void 0:t.snapshot)==null?void 0:n.capture()}))}function yt(e){var t;(t=J[e])==null||t.forEach((n,a)=>{var r,i;(i=(r=ie[a])==null?void 0:r.snapshot)==null||i.restore(n)})}function Qe(){Pe(R),We(ct,q),vt(A),We(it,J)}function bt(e,t,n,a){return w(this,null,function*(){let r;t.invalidateAll&&Re(),yield F({type:"goto",url:Ie(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:n,nav_token:a,accept:()=>{t.invalidateAll&&(je=!0,r=[...Xe.keys()]),t.invalidate&&t.invalidate.forEach(hn)}}),t.invalidateAll&&ae().then(ae).then(()=>{Xe.forEach(({resource:i},s)=>{var o;r!=null&&r.includes(s)&&((o=i.refresh)==null||o.call(i))})})})}function an(e){return w(this,null,function*(){if(e.id!==(b==null?void 0:b.id)){Re();const t={};le.add(t),b={id:e.id,token:t,promise:Et(j(I({},e),{preload:t})).then(n=>(le.delete(t),n.type==="loaded"&&n.state.error&&Re(),n)),fork:null}}return b.promise})}function be(e){return w(this,null,function*(){var n;const t=(n=yield ge(e,!1))==null?void 0:n.route;t&&(yield Promise.all([...t.layouts,t.leaf].map(a=>a==null?void 0:a[1]())))})}function kt(e,t,n){return w(this,null,function*(){var r,i;v=e.state;const a=document.querySelector("style[data-sveltekit]");if(a&&a.remove(),Object.assign(x,e.props.page),wt=new E.root({target:t,props:j(I({},e.props),{stores:N,components:ie}),hydrate:n,sync:!1}),yield Promise.resolve(),yt(A),n){const s={from:null,to:{params:v.params,route:{id:(i=(r=v.route)==null?void 0:r.id)!=null?i:null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};Y.forEach(o=>o(s))}ce=!0})}function fe({url:e,params:t,branch:n,status:a,error:r,route:i,form:s}){var g;let o="never";if(T&&(e.pathname===T||e.pathname===T+"/"))o="always";else for(const u of n)(u==null?void 0:u.slash)!==void 0&&(o=u.slash);e.pathname=Tt(e.pathname,o),e.search=e.search;const c={type:"loaded",state:{url:e,params:t,branch:n,error:r,route:i},props:{constructors:Ht(n).map(u=>u.node.component),page:Be(x)}};s!==void 0&&(c.props.form=s);let l={},d=!x,f=0;for(let u=0;u<Math.max(n.length,v.branch.length);u+=1){const h=n[u],S=v.branch[u];(h==null?void 0:h.data)!==(S==null?void 0:S.data)&&(d=!0),h&&(l=I(I({},l),h.data),d&&(c.props[`data_${f}`]=l),f+=1)}return(!v.url||e.href!==v.url.href||v.error!==r||s!==void 0&&s!==x.form||d)&&(c.props.page={error:r,params:t,route:{id:(g=i==null?void 0:i.id)!=null?g:null},state:{},status:a,url:new URL(e),form:s!=null?s:null,data:d?l:x.data}),c}function Ne(s){return w(this,arguments,function*({loader:e,parent:t,url:n,params:a,route:r,server_data_node:i}){var d,f,_,g;let o=null;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},l=yield e();return{node:l,loader:e,server:i,universal:(d=l.universal)!=null&&d.load?{type:"data",data:o,uses:c}:null,data:(f=o!=null?o:i==null?void 0:i.data)!=null?f:null,slash:(g=(_=l.universal)==null?void 0:_.trailingSlash)!=null?g:i==null?void 0:i.slash}})}function rn(e,t,n){let a=e instanceof Request?e.url:e;const r=new URL(a,n);r.origin===n.origin&&(a=r.href.slice(n.origin.length));const i=ce?Nt(a,r.href,t):jt(a,t);return{resolved:r,promise:i}}function on(e,t,n,a,r,i){if(je)return!0;if(!r)return!1;if(r.parent&&e||r.route&&t||r.url&&n)return!0;for(const s of r.search_params)if(a.has(s))return!0;for(const s of r.params)if(i[s]!==v.params[s])return!0;for(const s of r.dependencies)if(se.some(o=>o(new URL(s))))return!0;return!1}function De(e,t){return(e==null?void 0:e.type)==="data"?e:(e==null?void 0:e.type)==="skip"&&t!=null?t:null}function sn(e,t){if(!e)return new Set(t.searchParams.keys());const n=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const a of n){const r=e.searchParams.getAll(a),i=t.searchParams.getAll(a);r.every(s=>i.includes(s))&&i.every(s=>r.includes(s))&&n.delete(a)}return n}function cn({error:e,url:t,route:n,params:a}){return{type:"loaded",state:{error:e,url:t,route:n,params:a,branch:[]},props:{page:Be(x),constructors:[]}}}function Et(s){return w(this,arguments,function*({id:e,invalidating:t,url:n,params:a,route:r,preload:i}){if((b==null?void 0:b.id)===e)return le.delete(b.token),b.promise;const{errors:o,layouts:c,leaf:l}=r,d=[...c,l];o.forEach(m=>m==null?void 0:m().catch(()=>{})),d.forEach(m=>m==null?void 0:m[1]().catch(()=>{}));const f=v.url?e!==ue(v.url):!1,_=v.route?r.id!==v.route.id:!1,g=sn(v.url,n);let u=!1;const h=d.map((m,p)=>w(this,null,function*(){var U;if(!m)return;const y=v.branch[p];return m[1]===(y==null?void 0:y.loader)&&!on(u,_,f,g,(U=y.universal)==null?void 0:U.uses,a)?y:(u=!0,Ne({loader:m[1],url:n,params:a,route:r,parent:()=>w(this,null,function*(){var ee;const O={};for(let k=0;k<p;k+=1)Object.assign(O,(ee=yield h[k])==null?void 0:ee.data);return O}),server_data_node:De(m[0]?{type:"skip"}:null,m[0]?y==null?void 0:y.server:void 0)}))}));for(const m of h)m.catch(()=>{});const S=[];for(let m=0;m<d.length;m+=1)if(d[m])try{S.push(yield h[m])}catch(p){if(p instanceof Ae)return{type:"redirect",location:p.location};if(le.has(i))return cn({error:yield Z(p,{params:a,url:n,route:{id:r.id}}),url:n,params:a,route:r});let y=Oe(p),L;if(p instanceof Ue)L=p.body;else{if(yield N.updated.check())return yield pt(),yield X(n);L=yield Z(p,{params:a,url:n,route:{id:r.id}})}const U=yield ln(m,S,o);return U?fe({url:n,params:a,branch:S.slice(0,U.idx).concat(U.node),status:y,error:L,route:r}):yield Rt(n,{id:r.id},L,y)}else S.push(void 0);return fe({url:n,params:a,branch:S,status:200,error:null,route:r,form:t?void 0:null})})}function ln(e,t,n){return w(this,null,function*(){for(;e--;)if(n[e]){let a=e;for(;!t[a];)a-=1;try{return{idx:a+1,node:{node:yield n[e](),loader:n[e],data:{},server:null,universal:null}}}catch(r){continue}}})}function Ve(r){return w(this,arguments,function*({status:e,error:t,url:n,route:a}){const i={};let s=null;try{const o=yield Ne({loader:Ee,url:n,params:i,route:a,parent:()=>Promise.resolve({}),server_data_node:De(s)}),c={node:yield oe(),loader:oe,universal:null,server:null,data:null};return fe({url:n,params:i,branch:[o,c],status:e,error:t,route:null})}catch(o){if(o instanceof Ae)return bt(new URL(o.location,location.href),{},0);throw o}})}function fn(e){return w(this,null,function*(){const t=e.href;if(ne.has(t))return ne.get(t);let n;try{const a=w(this,null,function*(){var i;let r=(i=yield E.hooks.reroute({url:new URL(e),fetch:(s,o)=>w(this,null,function*(){return rn(s,o,e).promise})}))!=null?i:e;if(typeof r=="string"){const s=new URL(e);E.hash?s.hash=r:s.pathname=r,r=s}return r});ne.set(t,a),n=yield a}catch(a){ne.delete(t);return}return n})}function ge(e,t){return w(this,null,function*(){if(e&&!pe(e,T,E.hash)){const n=yield fn(e);if(!n)return;const a=un(n);for(const r of Ce){const i=r.exec(a);if(i)return{id:ue(e),invalidating:t,route:r,params:It(i),url:e}}}})}function un(e){return $t(E.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(T.length))||"/"}function ue(e){return(E.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function St({url:e,type:t,intent:n,delta:a,event:r}){let i=!1;const s=qe(v,n,e,t);a!==void 0&&(s.navigation.delta=a),r!==void 0&&(s.navigation.event=r);const o=j(I({},s.navigation),{cancel:()=>{i=!0,s.reject(new Error("navigation cancelled"))}});return Q||gt.forEach(c=>c(o)),i?null:s}function F(_){return w(this,arguments,function*({type:e,url:t,popped:n,keepfocus:a,noscroll:r,replace_state:i,state:s={},redirect_count:o=0,nav_token:c={},accept:l=He,block:d=He,event:f}){const g=V;V=c;const u=yield ge(t,!1),h=e==="enter"?qe(v,u,t,e):St({url:t,type:e,delta:n==null?void 0:n.delta,intent:u,event:f});if(!h){d(),V===c&&(V=g);return}const S=R,m=A;l(),Q=!0,ce&&h.navigation.type!=="enter"&&N.navigating.set(H.current=h.navigation);let p=u&&(yield Et(u));if(!p){if(pe(t,T,E.hash))return yield X(t,i);p=yield Rt(t,{id:null},yield Z(new Te(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404,i)}if(t=(u==null?void 0:u.url)||t,V!==c)return h.reject(new Error("navigation aborted")),!1;if(p.type==="redirect"){if(o<20){yield F({type:e,url:new URL(p.location,t),popped:n,keepfocus:a,noscroll:r,replace_state:i,state:s,redirect_count:o+1,nav_token:c}),h.fulfil(void 0);return}p=yield Ve({status:500,error:yield Z(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else p.props.page.status>=400&&(yield N.updated.check())&&(yield pt(),yield X(t,i));if(nn(),Pe(S),vt(m),p.props.page.url.pathname!==t.pathname&&(t.pathname=p.props.page.url.pathname),s=n?n.state:s,!n){const k=i?0:1,B={[M]:R+=k,[z]:A+=k,[lt]:s};(i?history.replaceState:history.pushState).call(history,B,"",t),i||en(R,A)}const y=u&&(b==null?void 0:b.id)===u.id?b.fork:null;b=null,p.props.page.state=s;let L;if(ce){const k=(yield Promise.all(Array.from(tn,C=>C(h.navigation)))).filter(C=>typeof C=="function");if(k.length>0){let C=function(){k.forEach(me=>{Y.delete(me)})};k.push(C),k.forEach(me=>{Y.add(me)})}v=p.state,p.props.page&&(p.props.page.url=t);const B=y&&(yield y);B?L=B.commit():(wt.$set(p.props),Qt(p.props.page),L=void 0),_t=!0}else yield kt(p,Se,!1);const{activeElement:U}=document;yield L,yield ae(),yield ae();let O=n?n.scroll:r?he():null;if(Je){const k=t.hash&&document.getElementById(xt(t));if(O)scrollTo(O.x,O.y);else if(k){k.scrollIntoView();const{top:B,left:C}=k.getBoundingClientRect();O={x:pageXOffset+C,y:pageYOffset+B}}else scrollTo(0,0)}const ee=document.activeElement!==U&&document.activeElement!==document.body;!a&&!ee&&_n(t,O),Je=!0,p.props.page&&Object.assign(x,p.props.page),Q=!1,e==="popstate"&&yt(A),h.fulfil(void 0),Y.forEach(k=>k(h.navigation)),N.navigating.set(H.current=null)})}function Rt(e,t,n,a,r){return w(this,null,function*(){return e.origin===de&&e.pathname===location.pathname&&!mt?yield Ve({status:a,error:n,url:e,route:t}):yield X(e,r)})}function dn(){let e,t={element:void 0,href:void 0},n;P.addEventListener("mousemove",o=>{const c=o.target;clearTimeout(e),e=setTimeout(()=>{i(c,D.hover)},20)});function a(o){o.defaultPrevented||i(o.composedPath()[0],D.tap)}P.addEventListener("mousedown",a),P.addEventListener("touchstart",a,{passive:!0});const r=new IntersectionObserver(o=>{for(const c of o)c.isIntersecting&&(be(new URL(c.target.href)),r.unobserve(c.target))},{threshold:0});function i(o,c){return w(this,null,function*(){const l=ut(o,P),d=l===t.element&&(l==null?void 0:l.href)===t.href&&c>=n;if(!l||d)return;const{url:f,external:_,download:g}=ke(l,T,E.hash);if(_||g)return;const u=re(l),h=f&&ue(v.url)===ue(f);if(!(u.reload||h))if(c<=u.preload_data){t={element:l,href:l.href},n=D.tap;const S=yield ge(f,!1);if(!S)return;an(S)}else c<=u.preload_code&&(t={element:l,href:l.href},n=c,be(f))})}function s(){r.disconnect();for(const o of P.querySelectorAll("a")){const{url:c,external:l,download:d}=ke(o,T,E.hash);if(l||d)continue;const f=re(o);f.reload||(f.preload_code===D.viewport&&r.observe(o),f.preload_code===D.eager&&be(c))}}Y.add(s),s()}function Z(e,t){var r;if(e instanceof Ue)return e.body;const n=Oe(e),a=Jt(e);return(r=E.hooks.handleError({error:e,event:t,status:n,message:a}))!=null?r:{message:a}}function Ln(e,t={}){return e=new URL(Ie(e)),e.origin!==de?Promise.reject(new Error("goto: invalid URL")):bt(e,t,0)}function hn(e){if(typeof e=="function")se.push(e);else{const{href:t}=new URL(e,location.href);se.push(n=>n.href===t)}}function pn(){var t;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{let a=!1;if(Qe(),!Q){const r=qe(v,void 0,null,"leave"),i=j(I({},r.navigation),{cancel:()=>{a=!0,r.reject(new Error("navigation cancelled"))}});gt.forEach(s=>s(i))}a?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Qe()}),(t=navigator.connection)!=null&&t.saveData||dn(),P.addEventListener("click",n=>w(this,null,function*(){var g;if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const a=ut(n.composedPath()[0],P);if(!a)return;const{url:r,external:i,target:s,download:o}=ke(a,T,E.hash);if(!r)return;if(s==="_parent"||s==="_top"){if(window.parent!==window)return}else if(s&&s!=="_self")return;const c=re(a);if(!(a instanceof SVGAElement)&&r.protocol!==location.protocol&&!(r.protocol==="https:"||r.protocol==="http:")||o)return;const[d,f]=(E.hash?r.hash.replace(/^#/,""):r.href).split("#"),_=d===we(location);if(i||c.reload&&(!_||!f)){St({url:r,type:"link",event:n})?Q=!0:n.preventDefault();return}if(f!==void 0&&_){const[,u]=v.url.href.split("#");if(u===f){if(n.preventDefault(),f===""||f==="top"&&a.ownerDocument.getElementById("top")===null)scrollTo({top:0});else{const h=a.ownerDocument.getElementById(decodeURIComponent(f));h&&(h.scrollIntoView(),h.focus())}return}if(G=!0,Pe(R),e(r),!c.replace_state)return;G=!1}n.preventDefault(),yield new Promise(u=>{requestAnimationFrame(()=>{setTimeout(u,0)}),setTimeout(u,100)}),yield F({type:"link",url:r,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:(g=c.replace_state)!=null?g:r.href===location.href,event:n})})),P.addEventListener("submit",n=>{var f;if(n.defaultPrevented)return;const a=HTMLFormElement.prototype.cloneNode.call(n.target),r=n.submitter;if(((r==null?void 0:r.formTarget)||a.target)==="_blank"||((r==null?void 0:r.formMethod)||a.method)!=="get")return;const o=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||a.action);if(pe(o,T,!1))return;const c=n.target,l=re(c);if(l.reload)return;n.preventDefault(),n.stopPropagation();const d=new FormData(c,r);o.search=new URLSearchParams(d).toString(),F({type:"form",url:o,keepfocus:l.keepfocus,noscroll:l.noscroll,replace_state:(f=l.replace_state)!=null?f:o.href===location.href,event:n})}),addEventListener("popstate",n=>w(this,null,function*(){var a,r,i;if(!xe){if((a=n.state)!=null&&a[M]){const s=n.state[M];if(V={},s===R)return;const o=q[s],c=(r=n.state[lt])!=null?r:{},l=new URL((i=n.state[Wt])!=null?i:location.href),d=n.state[z],f=v.url?we(location)===we(v.url):!1;if(d===A&&(_t||f)){c!==x.state&&(x.state=c),e(l),q[R]=he(),o&&scrollTo(o.x,o.y),R=s;return}const g=s-R;yield F({type:"popstate",url:l,popped:{state:c,scroll:o,delta:g},accept:()=>{R=s,A=d},block:()=>{history.go(-g)},nav_token:V,event:n})}else if(!G){const s=new URL(location.href);e(s),E.hash&&location.reload()}}})),addEventListener("hashchange",()=>{G&&(G=!1,history.replaceState(j(I({},history.state),{[M]:++R,[z]:A}),"",location.href))});for(const n of document.querySelectorAll("link"))Zt.has(n.rel)&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&N.navigating.set(H.current=null)});function e(n){v.url=x.url=n,N.page.set(Be(x)),N.page.notify()}}function gn(l,d){return w(this,arguments,function*(e,{status:t=200,error:n,node_ids:a,params:r,route:i,server_route:s,data:o,form:c}){mt=!0;const f=new URL(location.href);let _;({params:r={},route:i={id:null}}=(yield ge(f,!1))||{}),_=Ce.find(({id:h})=>h===i.id);let g,u=!0;try{const h=a.map((m,p)=>w(this,null,function*(){const y=o[p];return y!=null&&y.uses&&(y.uses=mn(y.uses)),Ne({loader:E.nodes[m],url:f,params:r,route:i,parent:()=>w(this,null,function*(){const L={};for(let U=0;U<p;U+=1)Object.assign(L,(yield h[U]).data);return L}),server_data_node:De(y)})})),S=yield Promise.all(h);if(_){const m=_.layouts;for(let p=0;p<m.length;p++)m[p]||S.splice(p,0,void 0)}g=fe({url:f,params:r,branch:S,status:t,error:n,form:c,route:_!=null?_:null})}catch(h){if(h instanceof Ae){yield X(new URL(h.location,location.href));return}g=yield Ve({status:Oe(h),error:yield Z(h,{url:f,params:r,route:i}),url:f,route:i}),e.textContent="",u=!1}g.props.page&&(g.props.page.state={}),yield kt(g,e,u)})}function mn(e){var t,n,a;return{dependencies:new Set((t=e==null?void 0:e.dependencies)!=null?t:[]),params:new Set((n=e==null?void 0:e.params)!=null?n:[]),parent:!!(e!=null&&e.parent),route:!!(e!=null&&e.route),url:!!(e!=null&&e.url),search_params:new Set((a=e==null?void 0:e.search_params)!=null?a:[])}}let xe=!1;function _n(e,t=null){const n=document.querySelector("[autofocus]");if(n)n.focus();else{const a=xt(e);if(a&&document.getElementById(a)){const{x:i,y:s}=t!=null?t:he();setTimeout(()=>{const o=history.state;xe=!0,location.replace(`#${a}`),E.hash&&location.replace(e.hash),history.replaceState(o,"",e.hash),scrollTo(i,s),xe=!1})}else{const i=document.body,s=i.getAttribute("tabindex");i.tabIndex=-1,i.focus({preventScroll:!0,focusVisible:!1}),s!==null?i.setAttribute("tabindex",s):i.removeAttribute("tabindex")}const r=getSelection();if(r&&r.type!=="None"){const i=[];for(let s=0;s<r.rangeCount;s+=1)i.push(r.getRangeAt(s));setTimeout(()=>{if(r.rangeCount===i.length){for(let s=0;s<r.rangeCount;s+=1){const o=i[s],c=r.getRangeAt(s);if(o.commonAncestorContainer!==c.commonAncestorContainer||o.startContainer!==c.startContainer||o.endContainer!==c.endContainer||o.startOffset!==c.startOffset||o.endOffset!==c.endOffset)return}r.removeAllRanges()}})}}}function qe(e,t,n,a){var c,l,d,f,_;let r,i;const s=new Promise((g,u)=>{r=g,i=u});return s.catch(()=>{}),{navigation:{from:{params:e.params,route:{id:(l=(c=e.route)==null?void 0:c.id)!=null?l:null},url:e.url},to:n&&{params:(d=t==null?void 0:t.params)!=null?d:null,route:{id:(_=(f=t==null?void 0:t.route)==null?void 0:f.id)!=null?_:null},url:n},willUnload:!t,type:a,complete:s},fulfil:r,reject:i}}function Be(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function wn(e){const t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function xt(e){let t;if(E.hash){const[,,n]=e.hash.split("#",3);t=n!=null?n:""}else t=e.hash.slice(1);return decodeURIComponent(t)}export{xn as a,Ln as g,kn as l,N as s};
